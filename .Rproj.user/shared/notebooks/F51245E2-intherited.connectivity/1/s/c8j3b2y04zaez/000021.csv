"0","# --- Cytoscape export (RCy3) ---"
"0",""
"0","library(RCy3)"
"0","library(dplyr)"
"0",""
"0","# Combine (you already have in.and.out.11431, in.and.out.11998)"
"0","# NOTE: fix a likely typo above: use inputs.11431.sum, not inputs.11431, when creating in.and.out.11431"
"0","# in.and.out.11431 <- rbind(inputs.11431.sum, outputs.11431.sum)"
"0",""
"0","in.and.out <- bind_rows(in.and.out.11431, in.and.out.11998)"
"0",""
"0","# Edges: directed pre -> post"
"0","edges.df <- in.and.out %>%"
"0","  transmute(source = pre,"
"0","            target = post,"
"0","            weight = weight,"
"0","            post.input.normed = post.input.normed)"
"0",""
"0","# Nodes: carry attributes from both pre and post sides, coalesced"
"0","pre.nodes  <- in.and.out %>%"
"0","  select(id = pre, IR52b, IR52a, ppk25, ppk23, dimorphism) %>%"
"0","  distinct()"
"0",""
"0","post.nodes <- in.and.out %>%"
"0","  select(id = post, IR52b, IR52a, ppk25, ppk23, dimorphism) %>%"
"0","  distinct()"
"0",""
"0","nodes.df <- full_join(pre.nodes, post.nodes, by = ""id"", suffix = c("".pre"", "".post"")) %>%"
"0","  mutate("
"0","    IR52b = coalesce(IR52b.pre, IR52b.post),"
"0","    IR52a = coalesce(IR52a.pre, IR52a.post),"
"0","    ppk25 = coalesce(ppk25.pre, ppk25.post),"
"0","    ppk23 = coalesce(ppk23.pre, ppk23.post),"
"0","    dimorphism = coalesce(dimorphism.pre, dimorphism.post)"
"0","  ) %>%"
"0","  select(id, IR52b, IR52a, ppk25, ppk23, dimorphism)"
"0",""
"0","# Create/replace network"
"0","net.suid <- createNetworkFromDataFrames("
"0","  nodes = nodes.df,"
"0","  edges = edges.df,"
"0","  title = ""vAB3_11998__PPN1_11431_inputs_outputs"","
"0","  collection = ""InheritedConnectivity"""
"0",")"
"0",""
"0",""
"0",""
"0",""
